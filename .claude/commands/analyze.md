---
description: 볼트 그래프 분석 + 상태 파악 + 조언
---

볼트를 분석하고 현재 상태를 파악합니다. 결과는 `_meta/ANALYSIS.md`에 저장됩니다.

## 사용법

- `/analyze` - 전체 분석 (develop, work, life)
- `/analyze develop` - develop 영역만
- `/analyze work` - work 영역만
- `/analyze life` - life 영역만
- `/analyze --brief` - 간략 요약만

## 실행 순서

### 1. 범위 결정

$ARGUMENTS 파싱:
- 비어있으면: 전체 (develop, work, life)
- "develop", "work", "life" 중 하나면: 해당 영역만
- "--brief" 포함 시: 간략 모드

### 2. 구조 스캔

각 대상 영역에 대해:
1. `{영역}/_meta/INDEX.md` 읽기
2. 등록된 문서 목록 추출
3. 실제 파일 존재 확인 (Glob)
4. 미등록 문서 탐지 (INDEX에 없지만 파일 존재)

### 3. 상태 분석

각 문서에 대해:
1. 프론트매터 파싱 (YAML)
2. status, tags, created, updated 추출
3. 상태별 분류 (draft, done, active, review 등)
4. 오래된 draft 탐지 (7일 이상 미수정)
5. 최근 업데이트 문서 식별

### 4. 그래프 분석

링크 추출:
1. 각 문서에서 `[[링크]]` 패턴 추출
2. `[[문서명|표시텍스트]]` 형태도 처리
3. 링크 대상 문서 존재 확인

그래프 분석:
1. 양방향 링크 확인 (A→B면 B→A도 있는지)
2. 고립 문서 탐지 (들어오는 링크도 나가는 링크도 없음)
3. 허브 문서 식별 (가장 많이 참조되는 문서)
4. 끊어진 링크 수집 (존재하지 않는 문서로의 링크)
5. 영역 간 연결 분석 (develop↔work, work↔life 등)

### 5. 태그 분석

1. 전체 태그 목록 수집
2. 태그별 문서 수 집계
3. 상위 5개 태그 추출
4. 관심 분야 추정

### 6. 조언 생성

**형처럼 직설적으로 말한다:**

1. 당장 해야 할 것 (draft 문서 정리, 끊어진 링크 수정)
2. 연결 제안 (관련 있는데 안 연결된 문서)
3. 전체 평가 (잘하고 있는 것, 개선할 것)

조언 스타일:
- 반말 사용
- 둘러 말하지 않고 핵심만
- 필요하면 쓴소리도 함
- "~해", "~해라", "왜 안 해?" 같은 직설적 표현

### 7. 결과 저장

1. 분석 결과를 마크다운으로 정리
2. `_meta/ANALYSIS.md`에 저장 (전체 분석 시)
3. 또는 `{영역}/_meta/ANALYSIS.md`에 저장 (영역별 분석 시)
4. 기존 파일 있으면 히스토리 섹션에 이전 결과 보존

### 8. 결과 출력

분석 결과를 대화에 출력

## 출력 형식

### 전체 모드

```markdown
## 볼트 분석 결과 (YYYY-MM-DD)

### 문서 현황
| 영역 | 총 문서 | done | draft | 기타 |
|------|---------|------|-------|------|
| develop | N | N | N | N |
| work | N | N | N | N |
| life | N | N | N | N |

### 주목할 문서
- draft 상태 문서 목록
- 최근 업데이트 문서 (7일 이내)

### 그래프 분석
- 총 링크 수
- 허브 문서 (상위 3개)
- 고립 문서
- 끊어진 링크

### 태그 분석
- 상위 태그
- 관심 분야 추정

### 조언
(형처럼 직설적으로)
```

### 간략 모드 (--brief)

```markdown
## 볼트 요약 (YYYY-MM-DD)

**문서**: N개 (done: N, draft: N)
**주목**: (핵심만)
**건강 상태**: 양호/주의/문제
```

## 주의사항

- 분석은 읽기 작업 + 결과 저장만 수행
- 문서 내용 자체는 수정하지 않음
- life 영역은 민감할 수 있으므로 상세 내용 대신 요약만 표시
